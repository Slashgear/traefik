(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{199:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("This section explains how to create a multi-host "),a("a",{attrs:{href:"https://docs.docker.com/swarm",target:"_blank",rel:"noopener noreferrer"}},[t._v("swarm"),a("OutboundLink")],1),t._v(" cluster using "),a("a",{attrs:{href:"https://docs.docker.com/machine/",target:"_blank",rel:"noopener noreferrer"}},[t._v("docker-machine"),a("OutboundLink")],1),t._v(" and how to deploy Traefik on it.")]),t._v(" "),a("p",[t._v("The cluster consists of:")]),t._v(" "),a("ul",[a("li",[t._v("2 servers")]),t._v(" "),a("li",[t._v("1 swarm master")]),t._v(" "),a("li",[t._v("2 swarm nodes")]),t._v(" "),a("li",[t._v("1 "),a("a",{attrs:{href:"https://docs.docker.com/network/overlay/",target:"_blank",rel:"noopener noreferrer"}},[t._v("overlay"),a("OutboundLink")],1),t._v(" network (multi-host networking)")])]),t._v(" "),t._m(1),t._v(" "),a("ol",[a("li",[t._v("You need to install "),a("a",{attrs:{href:"https://docs.docker.com/machine/",target:"_blank",rel:"noopener noreferrer"}},[t._v("docker-machine"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("You need the latest "),a("a",{attrs:{href:"https://www.virtualbox.org/wiki/Downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("VirtualBox"),a("OutboundLink")],1)])]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("We first follow "),a("a",{attrs:{href:"https://docs.docker.com/engine/userguide/networking/get-started-overlay/",target:"_blank",rel:"noopener noreferrer"}},[t._v("this guide"),a("OutboundLink")],1),t._v(" to create the cluster.")]),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("This machine is the service registry of our cluster.")]),t._v(" "),t._m(4),a("p",[t._v("Then we install the service registry "),a("a",{attrs:{href:"https://consul.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Consul"),a("OutboundLink")],1),t._v(" on this machine:")]),t._v(" "),t._m(5),t._m(6),t._v(" "),a("p",[t._v("This machine is a swarm master and a swarm agent on it.")]),t._v(" "),t._m(7),t._m(8),t._v(" "),a("p",[t._v("This machine have a swarm agent on it.")]),t._v(" "),t._m(9),t._m(10),t._v(" "),a("p",[t._v("Create the overlay network on the swarm master:")]),t._v(" "),t._m(11),t._m(12),t._v(" "),a("p",[t._v("Deploy Traefik:")]),t._v(" "),t._m(13),a("p",[t._v("Let's explain this command:")]),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),a("p",[t._v("We can now deploy our app on the cluster, here "),a("a",{attrs:{href:"https://github.com/containous/whoami",target:"_blank",rel:"noopener noreferrer"}},[t._v("whoami"),a("OutboundLink")],1),t._v(", a simple web server in GO, on the network "),a("code",[t._v("my-net")]),t._v(":")]),t._v(" "),t._m(16),a("p",[t._v("Check that everything is started:")]),t._v(" "),t._m(17),t._m(18),t._m(19),t._v(" "),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"swarm-cluster"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#swarm-cluster","aria-hidden":"true"}},[this._v("#")]),this._v(" Swarm cluster")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"prerequisites"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Prerequisites")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"cluster-provisioning"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cluster-provisioning","aria-hidden":"true"}},[this._v("#")]),this._v(" Cluster provisioning")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"create-machine-mh-keystore"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-machine-mh-keystore","aria-hidden":"true"}},[this._v("#")]),this._v(" Create machine "),e("code",[this._v("mh-keystore")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("docker-machine create -d virtualbox mh-keystore\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eval")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v(" mh-keystore"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v("\ndocker run -d \\\n    -p "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8500:8500"')]),t._v(" \\\n    -h "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"consul"')]),t._v(" \\\n    progrium/consul -server -bootstrap\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"create-machine-mhs-demo0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-machine-mhs-demo0","aria-hidden":"true"}},[this._v("#")]),this._v(" Create machine "),e("code",[this._v("mhs-demo0")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker-machine create -d virtualbox \\\n    --swarm --swarm-master \\\n    --swarm-discovery"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"consul://'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine ip mh-keystore"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(':8500"')]),t._v(" \\\n    --engine-opt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cluster-store=consul://'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine ip mh-keystore"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(':8500"')]),t._v(" \\\n    --engine-opt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cluster-advertise=eth1:2376"')]),t._v(" \\\n    mhs-demo0\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"create-machine-mhs-demo1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-machine-mhs-demo1","aria-hidden":"true"}},[this._v("#")]),this._v(" Create machine "),e("code",[this._v("mhs-demo1")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker-machine create -d virtualbox \\\n    --swarm \\\n    --swarm-discovery"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"consul://'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine ip mh-keystore"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(':8500"')]),t._v(" \\\n    --engine-opt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cluster-store=consul://'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine ip mh-keystore"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(':8500"')]),t._v(" \\\n    --engine-opt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cluster-advertise=eth1:2376"')]),t._v(" \\\n    mhs-demo1\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"create-the-overlay-network"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#create-the-overlay-network","aria-hidden":"true"}},[this._v("#")]),this._v(" Create the overlay Network")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eval")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v(" --swarm mhs-demo0"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\ndocker network create --driver overlay --subnet"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("10.0.9.0/24 my-net\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"deploy-traefik"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy-traefik","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploy Traefik")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine config mhs-demo0"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(" run \\\n    -d \\\n    -p 80:80 -p 8080:8080 \\\n    --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("my-net \\\n    -v /var/lib/boot2docker/:/ssl \\\n    traefik \\\n    -l DEBUG \\\n    -c /dev/null \\\n    --docker \\\n    --docker.domain"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("traefik \\\n    --docker.endpoint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("tcp://"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine ip mhs-demo0"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v(":2376 \\\n    --docker.tls \\\n    --docker.tls.ca"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/ssl/ca.pem \\\n    --docker.tls.cert"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/ssl/server.pem \\\n    --docker.tls.key"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/ssl/server-key.pem \\\n    --docker.tls.insecureSkipVerify \\\n    --docker.watch \\\n    --api\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Option")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("-p 80:80 -p 8080:8080")])]),t._v(" "),a("td",[t._v("we bind ports 80 and 8080")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("--net=my-net")])]),t._v(" "),a("td",[t._v("run the container on the network my-net")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-v /var/lib/boot2docker/:/ssl")])]),t._v(" "),a("td",[t._v("mount the ssl keys generated by docker-machine")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("-c /dev/null")])]),t._v(" "),a("td",[t._v("empty config file")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("--docker")])]),t._v(" "),a("td",[t._v("enable docker provider")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("--docker.endpoint=tcp://172.18.0.1:2376")])]),t._v(" "),a("td",[t._v("connect to the swarm master using the docker_gwbridge network")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("--docker.tls")])]),t._v(" "),a("td",[t._v("enable TLS using the docker-machine keys")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("--api")])]),t._v(" "),a("td",[t._v("activate the webUI on port 8080")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"deploy-your-apps"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy-your-apps","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploy your apps")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eval")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker-machine "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("env")]),t._v(" --swarm mhs-demo0"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\ndocker run -d --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("whoami0 --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("my-net --env"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"constraint:node==mhs-demo0"')]),t._v(" containous/whoami\ndocker run -d --name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("whoami1 --net"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("my-net --env"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"constraint:node==mhs-demo1"')]),t._v(" containous/whoami\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[this._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("ps")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                                      NAMES\nba2c21488299        containous/whoami   "/whoamI"                8 seconds ago       Up 9 seconds        80/tcp                                                     mhs-demo1/whoami1\n8147a7746e7a        containous/whoami   "/whoamI"                19 seconds ago      Up 20 seconds       80/tcp                                                     mhs-demo0/whoami0\n8fbc39271b4c        traefik             "/traefik -l DEBUG -c"   36 seconds ago      Up 37 seconds       192.168.99.101:80->80/tcp, 192.168.99.101:8080->8080/tcp   mhs-demo0/serene_bhabha\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"access-to-your-apps-through-traefik"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#access-to-your-apps-through-traefik","aria-hidden":"true"}},[this._v("#")]),this._v(" Access to your apps through Traefik")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -H Host:whoami0.traefik http://"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$(")]),this._v("docker-machine ip mhs-demo0"),e("span",{pre:!0,attrs:{class:"token variable"}},[this._v(")")])]),this._v("\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 8147a7746e7a\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 127.0.0.1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10.0.9.3\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fe80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("aff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fe00"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("903")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 172.18.0.3\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fe80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("acff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fe12"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\nGET / HTTP/1.1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10.0.9.3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("User-Agent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" curl/7.35.0\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" */*\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Accept-Encoding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gzip\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-For")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 192.168.99.1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10.0.9.3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-Proto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-Server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 8fbc39271b4c\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -H Host:whoami1.traefik http://"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$(")]),this._v("docker-machine ip mhs-demo0"),e("span",{pre:!0,attrs:{class:"token variable"}},[this._v(")")])]),this._v("\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ba2c21488299\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 127.0.0.1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10.0.9.4\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fe80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("aff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fe00"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("904")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 172.18.0.2\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("IP")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fe80"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("42"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("acff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("fe12"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nGET / HTTP/1.1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10.0.9.4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("User-Agent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" curl/7.35.0\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Accept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" */*\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("Accept-Encoding")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gzip\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-For")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 192.168.99.1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-Host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10.0.9.4"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-Proto")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("X-Forwarded-Server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 8fbc39271b4c\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://i.giphy.com/ujUdrdpX7Ok5W.gif",alt:"GIF Magica"}})])}],!1,null,null,null);e.default=r.exports}}]);