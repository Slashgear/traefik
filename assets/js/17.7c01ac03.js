(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{181:function(e,t,s){"use strict";s.r(t);var n=s(0),r=Object(n.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[e._m(0),e._v(" "),s("p",[e._v("Traefik can be configured to use Kubernetes Ingress as a provider.")]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._m(4),e._v(" "),s("p",[e._v("The Kubernetes server endpoint as URL.")]),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),s("p",[e._v("The endpoint may be specified to override the environment variable values inside a cluster.")]),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),s("p",[e._v("By default, Traefik processes all Ingress objects in the configured namespaces.\nA label selector can be defined to filter on specific Ingress objects only.")]),e._v(" "),s("p",[e._v("See "),s("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#label-selectors",target:"_blank",rel:"noopener noreferrer"}},[e._v("label-selectors"),s("OutboundLink")],1),e._v(" for details.")]),e._v(" "),e._m(9),e._v(" "),s("p",[e._v("You can configure a static hostname or IP address that Traefik will add to the status section of Ingress objects that it manages.\nIf you prefer, you can provide a service, which traefik will copy the status spec from.\nThis will give more flexibility in cloud/dynamic environments.")]),e._v(" "),e._m(10),e._v(" "),s("p",[e._v("Traefik automatically requests endpoint information based on the service provided in the ingress spec.\nAlthough traefik will connect directly to the endpoints (pods), it still checks the service port to see if TLS communication is required.")]),e._v(" "),s("p",[e._v("There are 3 ways to configure Traefik to use https to communicate with backend pods:")]),e._v(" "),e._m(11),e._v(" "),s("p",[e._v("If either of those configuration options exist, then the backend communication protocol is assumed to be TLS, and will connect via TLS automatically.")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("Please note that by enabling TLS communication between traefik and your pods, you will have to have trusted certificates that have the proper trust chain and IP subject name.\nIf this is not an option, you may need to skip TLS certificate verification.\nSee the "),s("router-link",{attrs:{to:"/configuration/commons/#main-section"}},[e._v("insecureSkipVerify")]),e._v(" setting for more details.")],1)]),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),s("p",[e._v("The following general annotations are applicable on the Ingress object:")]),e._v(" "),s("table",[e._m(14),e._v(" "),s("tbody",[e._m(15),e._v(" "),s("tr",[e._m(16),e._v(" "),s("td",[e._v("See "),s("router-link",{attrs:{to:"/configuration/commons/#custom-error-pages"}},[e._v("custom error pages")]),e._v(" section. (2)")],1)]),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),s("tr",[e._m(22),e._v(" "),s("td",[e._v("See "),s("router-link",{attrs:{to:"/configuration/commons/#rate-limiting"}},[e._v("rate limiting")]),e._v(" section. (4)")],1)]),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),s("tr",[e._m(27),e._v(" "),s("td",[e._v("Adds a "),s("router-link",{attrs:{to:"/basics/#modifiers"}},[e._v("request modifier")]),e._v(" to the backend request.")],1)]),e._v(" "),e._m(28),e._v(" "),s("tr",[e._m(29),e._v(" "),s("td",[e._v("Overrides the default frontend rule type. Only path-related matchers can be specified "),s("router-link",{attrs:{to:"/basics/#path-matcher-usage-guidelines"}},[e._v("("),s("code",[e._v("Path")]),e._v(", "),s("code",[e._v("PathPrefix")]),e._v(", "),s("code",[e._v("PathStrip")]),e._v(", "),s("code",[e._v("PathPrefixStrip")]),e._v(")")]),e._v(".(5)")],1)]),e._v(" "),s("tr",[e._m(30),e._v(" "),s("td",[e._v("Add a "),s("router-link",{attrs:{to:"/basics/#modifiers"}},[e._v("request modifier")]),e._v(" to the backend request.")],1)]),e._v(" "),e._m(31),e._v(" "),e._m(32),e._v(" "),e._m(33),e._v(" "),s("tr",[e._m(34),e._v(" "),s("td",[e._v("See "),s("router-link",{attrs:{to:"/configuration/entrypoints/#white-listing"}},[e._v("whitelist")])],1)]),e._v(" "),s("tr",[e._m(35),e._v(" "),s("td",[e._v("See "),s("router-link",{attrs:{to:"/configuration/entrypoints/#white-listing"}},[e._v("whitelist")])],1)]),e._v(" "),e._m(36)])]),e._v(" "),e._m(37),e._v(" "),e._m(38),e._v(" "),e._m(39),e._m(40),e._v(" "),e._m(41),e._m(42),e._v(" "),e._m(43),e._v(" "),e._m(44),e._m(45),e._v(" "),e._m(46),e._v(" "),s("p",[e._v("Example:")]),e._v(" "),e._m(47),e._m(48),e._v(" "),e._m(49),e._v(" "),s("p",[e._v("Currently, 3 decimal places for the weight are supported.\nAn attempt to exceed the precision should be avoided as it may lead to percentage computation flaws and, in consequence, Ingress parsing errors.")]),e._v(" "),s("p",[e._v("For each path definition, this annotation will fail if:")]),e._v(" "),e._m(50),e._v(" "),s("p",[e._v("See also the "),s("router-link",{attrs:{to:"/user-guide/kubernetes/#traffic-splitting"}},[e._v("user guide section traffic splitting")]),e._v(".")],1),e._v(" "),s("p",[e._v("<7> "),s("code",[e._v("traefik.ingress.kubernetes.io/whitelist-source-range")]),e._v(":\nAll source IPs are permitted if the list is empty or a single range is ill-formatted.\nPlease note, you may have to set "),s("code",[e._v("service.spec.externalTrafficPolicy")]),e._v(" to the value "),s("code",[e._v("Local")]),e._v(" to preserve the source IP of the request for filtering.\nPlease see "),s("a",{attrs:{href:"https://kubernetes.io/docs/tutorials/services/source-ip/",target:"_blank",rel:"noopener noreferrer"}},[e._v("this link"),s("OutboundLink")],1),e._v(" for more information.")]),e._v(" "),e._m(51),e._v(" "),s("p",[e._v("The following annotations are applicable on the Service object associated with a particular Ingress object:")]),e._v(" "),s("table",[e._m(52),e._v(" "),s("tbody",[s("tr",[e._m(53),e._v(" "),s("td",[e._v("(1) See the "),s("router-link",{attrs:{to:"/configuration/commons/#buffering"}},[e._v("buffering")]),e._v(" section.")],1)]),e._v(" "),e._m(54),e._v(" "),e._m(55),e._v(" "),e._m(56),e._v(" "),e._m(57),e._v(" "),e._m(58),e._v(" "),e._m(59),e._v(" "),e._m(60)])]),e._v(" "),e._m(61),e._v(" "),e._m(62),e._m(63),e._v(" "),e._m(64),e._v(" "),e._m(65),e._v(" "),e._m(66),e._v(" "),s("p",[e._v("The following security annotations are applicable on the Ingress object:")]),e._v(" "),e._m(67),e._v(" "),e._m(68),e._v(" "),s("p",[e._v("Additional authentication annotations can be added to the Ingress object.\nThe source of the authentication is a Secret object that contains the credentials.")]),e._v(" "),s("table",[e._m(69),e._v(" "),s("tbody",[e._m(70),e._v(" "),e._m(71),e._v(" "),e._m(72),e._v(" "),e._m(73),e._v(" "),s("tr",[e._m(74),e._v(" "),s("td"),e._v(" "),s("td"),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[s("router-link",{attrs:{to:"/configuration/entrypoints/#forward-authentication"}},[e._v("The URL of the authentication server")]),e._v(".")],1)]),e._v(" "),e._m(75),e._v(" "),e._m(76),e._v(" "),e._m(77),e._v(" "),e._m(78)])]),e._v(" "),s("p",[e._v("The secret must be created in the same namespace as the Ingress object.")]),e._v(" "),s("p",[e._v("The following limitations hold for basic/digest auth:")]),e._v(" "),e._m(79),e._v(" "),e._m(80),e._v(" "),s("p",[e._v("TLS certificates can be managed in Secrets objects.\nMore information are available in the  "),s("router-link",{attrs:{to:"/user-guide/kubernetes/#add-a-tls-certificate-to-the-ingress"}},[e._v("User Guide")]),e._v(".")],1),e._v(" "),e._m(81),e._v(" "),e._m(82),e._v(" "),s("p",[e._v("Ingresses can be created that look like the following:")]),e._v(" "),e._m(83),s("p",[e._v("This ingress follows the "),s("a",{attrs:{href:"https://kubernetes.io/docs/concepts/services-networking/ingress/#the-ingress-resource",target:"_blank",rel:"noopener noreferrer"}},[e._v("Global Default Backend"),s("OutboundLink")],1),e._v(' property of ingresses.\nThis will allow users to create a "default backend" that will match all unmatched requests.')]),e._v(" "),e._m(84)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"kubernetes-ingress-provider"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-ingress-provider","aria-hidden":"true"}},[this._v("#")]),this._v(" Kubernetes Ingress Provider")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("See also "),t("a",{attrs:{href:"/user-guide/kubernetes"}},[this._v("Kubernetes user guide")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[e._v("################################################################\n# Kubernetes Ingress Provider\n################################################################\n\n# Enable Kubernetes Ingress Provider.\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[e._v("[kubernetes]")]),e._v("\n\n# Kubernetes server endpoint.\n#\n# Optional for in-cluster configuration, required otherwise.\n# Default: empty\n#\n# endpoint "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "http://localhost:8080"')]),e._v("\n\n# Bearer token used for the Kubernetes client configuration.\n#\n# Optional\n# Default: empty\n#\n# token "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "my token"')]),e._v("\n\n# Path to the certificate authority file.\n# Used for the Kubernetes client configuration.\n#\n# Optional\n# Default: empty\n#\n# certAuthFilePath "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "/my/ca.crt"')]),e._v("\n\n# Array of namespaces to watch.\n#\n# Optional\n# Default: all namespaces (empty array).\n#\n# namespaces "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' ["default", "production"]')]),e._v("\n\n# Ingress label selector to filter Ingress objects that should be processed.\n#\n# Optional\n# Default: empty (process all Ingresses)\n#\n# labelselector "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "A and not B"')]),e._v("\n\n# Value of `kubernetes.io/ingress.class` annotation that identifies Ingress objects to be processed.\n# If the parameter is non-empty, only Ingresses containing an annotation with the same value are processed.\n# Otherwise, Ingresses missing the annotation, having an empty value, or the value `traefik` are processed.\n#\n# Optional\n# Default: empty\n#\n# ingressClass "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "traefik-internal"')]),e._v("\n\n# Disable PassHost Headers.\n#\n# Optional\n# Default: false\n#\n# disablePassHostHeaders "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" true")]),e._v("\n\n# Enable PassTLSCert Headers.\n#\n# Optional\n# Default: false\n#\n# enablePassTLSCert "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" true")]),e._v("\n\n# Override default configuration template.\n#\n# Optional\n# Default: <built-in template>\n#\n# filename "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "kubernetes.tmpl"')]),e._v("\n\n# Enable IngressEndpoint configuration.\n# This will allow Traefik to update the status section of ingress objects, if desired.\n#\n# Optional\n#\n# [kubernetes.ingressEndpoint]\n#\n# At least one must be configured.\n# `publishedservice` will override the `hostname` and `ip` settings if configured.\n#\n# hostname "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "localhost"')]),e._v("\n# ip "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "127.0.0.1"')]),e._v("\n# publishedService "),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(' "namespace/servicename"')]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"endpoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#endpoint","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("code",[this._v("endpoint")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("When deployed into Kubernetes, Traefik will read the environment variables "),t("code",[this._v("KUBERNETES_SERVICE_HOST")]),this._v(" and "),t("code",[this._v("KUBERNETES_SERVICE_PORT")]),this._v(" to construct the endpoint.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The access token will be looked up in "),t("code",[this._v("/var/run/secrets/kubernetes.io/serviceaccount/token")]),this._v(" and the SSL CA certificate in "),t("code",[this._v("/var/run/secrets/kubernetes.io/serviceaccount/ca.crt")]),this._v(".\nBoth are provided mounted automatically when deployed inside Kubernetes.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("When the environment variables are not found, Traefik will try to connect to the Kubernetes API server with an external-cluster client.\nIn this case, the endpoint is required.\nSpecifically, it may be set to the URL used by "),t("code",[this._v("kubectl proxy")]),this._v(" to connect to a Kubernetes cluster using the granted authentication and authorization of the associated kubeconfig.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"labelselector"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#labelselector","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("code",[this._v("labelselector")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"ingressendpoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ingressendpoint","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("code",[this._v("ingressEndpoint")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"tls-communication-between-traefik-and-backend-pods"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tls-communication-between-traefik-and-backend-pods","aria-hidden":"true"}},[this._v("#")]),this._v(" TLS communication between Traefik and backend pods")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ol",[s("li",[e._v("If the service port defined in the ingress spec is 443 (note that you can still use "),s("code",[e._v("targetPort")]),e._v(" to use a different port on your pod).")]),e._v(" "),s("li",[e._v("If the service port defined in the ingress spec has a name that starts with "),s("code",[e._v("https")]),e._v(" (such as "),s("code",[e._v("https-api")]),e._v(", "),s("code",[e._v("https-web")]),e._v(" or just "),s("code",[e._v("https")]),e._v(").")]),e._v(" "),s("li",[e._v("If the ingress spec includes the annotation "),s("code",[e._v("ingress.kubernetes.io/protocol: https")]),e._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"annotations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#annotations","aria-hidden":"true"}},[this._v("#")]),this._v(" Annotations")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"general-annotations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#general-annotations","aria-hidden":"true"}},[this._v("#")]),this._v(" General annotations")])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Annotation")]),this._v(" "),t("th",[this._v("Description")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/app-root: "/index.html"')])]),this._v(" "),t("td",[this._v("Redirects all requests for "),t("code",[this._v("/")]),this._v(" to the defined path. (1)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/error-pages: <YML>")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/frontend-entry-points: http,https")])]),this._v(" "),t("td",[this._v("Override the default frontend endpoints.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/pass-client-tls-cert: <YML>")])]),this._v(" "),t("td",[this._v("Forward the client certificate following the configuration in YAML. (3)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/pass-tls-cert: "true"')])]),this._v(" "),t("td",[this._v("Override the default frontend PassTLSCert value. Default: "),t("code",[this._v("false")]),this._v(".(DEPRECATED)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/preserve-host: "true"')])]),this._v(" "),t("td",[this._v("Forward client "),t("code",[this._v("Host")]),this._v(" header to the backend.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/priority: "3"')])]),this._v(" "),t("td",[this._v("Override the default frontend rule priority.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/rate-limit: <YML>")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/redirect-entry-point: https")])]),this._v(" "),t("td",[this._v("Enables Redirect to another entryPoint for that frontend (e.g. HTTPS).")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/redirect-permanent: "true"')])]),this._v(" "),t("td",[this._v("Return 301 instead of 302.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/redirect-regex: ^http://localhost/(.*)")])]),this._v(" "),t("td",[this._v("Redirect to another URL for that frontend. Must be set with "),t("code",[this._v("traefik.ingress.kubernetes.io/redirect-replacement")]),this._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/redirect-replacement: http://mydomain/$1")])]),this._v(" "),t("td",[this._v("Redirect to another URL for that frontend. Must be set with "),t("code",[this._v("traefik.ingress.kubernetes.io/redirect-regex")]),this._v(".")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/request-modifier: AddPrefix: /users")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/rewrite-target: /users")])]),this._v(" "),t("td",[this._v("Replaces each matched Ingress path with the specified one, and adds the old path to the "),t("code",[this._v("X-Replaced-Path")]),this._v(" header.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/rule-type: PathPrefixStrip")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/request-modifier: AddPrefix: /users")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/service-weights: <YML>")])]),this._v(" "),t("td",[this._v("Set ingress backend weights specified as percentage or decimal numbers in YAML. (6)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/whitelist-source-range: "1.2.3.0/24, fe80::/16"')])]),this._v(" "),t("td",[this._v("A comma-separated list of IP ranges permitted for access (7).")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/whiteList-ipstrategy=true")])]),this._v(" "),t("td",[this._v("Uses the default IPStrategy."),t("br"),this._v("Can be used when there is an existing "),t("code",[this._v("clientIPStrategy")]),this._v(" but you want the remote address for whitelisting.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/whiteList-ipstrategy-depth=5")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/whiteList-ipstrategy-excludedIPs=127.0.0. 1")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("ingress.kubernetes.io/protocol: <NAME>")])]),this._v(" "),t("td",[this._v("Set the protocol Traefik will use to communicate with pods. Acceptable protocols: http,https,h2c")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("<1> "),t("code",[this._v("traefik.ingress.kubernetes.io/app-root")]),this._v(":\nNon-root paths will not be affected by this annotation and handled normally.\nThis annotation may not be combined with other redirect annotations.\nTrying to do so will result in the other redirects being ignored.\nThis annotation can be used in combination with "),t("code",[this._v("traefik.ingress.kubernetes.io/redirect-permanent")]),this._v(" to configure whether the "),t("code",[this._v("app-root")]),this._v(" redirect is a 301 or a 302.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("<2> "),t("code",[this._v("traefik.ingress.kubernetes.io/error-pages")]),this._v(" example:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("status")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"404"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("backend")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" bar\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" /bar\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("fii")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("status")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"503"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("-")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"500"')]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("backend")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" bar\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" /bir\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("<3> "),t("code",[this._v("traefik.ingress.kubernetes.io/pass-client-tls-cert")]),this._v(" example:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# add escaped pem in the `X-Forwarded-Tls-Client-Cert` header")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# add escaped certificate following infos in the `X-Forwarded-Tls-Client-Cert-Infos` header")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("infos")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("notafter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("notbefore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("sans")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("subject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("country")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("province")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("locality")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("organization")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("commonname")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("serialnumber")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("If "),s("code",[e._v("pem")]),e._v(" is set, it will add a "),s("code",[e._v("X-Forwarded-Tls-Client-Cert")]),e._v(" header that contains the escaped pem as value."),s("br"),e._v("\nIf at least one flag of the "),s("code",[e._v("infos")]),e._v(" part is set, it will add a "),s("code",[e._v("X-Forwarded-Tls-Client-Cert-Infos")]),e._v(" header that contains an escaped string composed of the client certificate data selected by the infos flags.\nThis infos part is composed like the following example (not escaped):\n"),s("code",[e._v('Subject="C=FR,ST=SomeState,L=Lyon,O=Cheese,CN=*.cheese.org",NB=1531900816,NA=1563436816,SAN=*.cheese.org,*.cheese.net,cheese.in,test@cheese.org,test@cheese.net,10.0.1.0,10.0.1.2')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("<4> "),t("code",[this._v("traefik.ingress.kubernetes.io/rate-limit")]),this._v(" example:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("extractorfunc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" client.ip\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("rateset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("bar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("period")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 3s\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("average")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("6")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("burst")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("foo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("period")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 6s\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("average")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("12")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("burst")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("18")]),e._v("\n")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("<5> "),s("code",[e._v("traefik.ingress.kubernetes.io/rule-type")]),e._v("\nNote: "),s("code",[e._v("ReplacePath")]),e._v(" is deprecated in this annotation, use the "),s("code",[e._v("traefik.ingress.kubernetes.io/request-modifier")]),e._v(" annotation instead. Default: "),s("code",[e._v("PathPrefix")]),e._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("<6> "),t("code",[this._v("traefik.ingress.kubernetes.io/service-weights")]),this._v(":\nService weights enable to split traffic across multiple backing services in a fine-grained manner.")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("service_backend1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 12.50%\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("service_backend2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" 12.50%\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("service_backend3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("75 ")]),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Same as 75%, the percentage sign is optional")]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("A single service backend definition may be omitted; in this case, Traefik auto-completes that service backend to 100% automatically.\nConveniently, users need not bother to compute the percentage remainder for a main service backend.\nFor instance, in the example above "),t("code",[this._v("service_backend3")]),this._v(" does not need to be specified to be assigned 75%.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("pre",[t("code",[this._v("For each service weight given, the Ingress specification must include a backend item with the corresponding `serviceName` and (if given) matching path.\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("the sum of backend weights exceeds 100% or")]),this._v(" "),t("li",[this._v("the sum of backend weights is less than 100% without one or more omitted backends")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("pre",[t("code",[this._v("Please note that `traefik.ingress.kubernetes.io/redirect-regex` and `traefik.ingress.kubernetes.io/redirect-replacement` do not have to be set if `traefik.ingress.kubernetes.io/redirect-entry-point` is defined for the redirection (they will not be used in this case).\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Annotation")]),this._v(" "),t("th",[this._v("Description")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/buffering: <YML>")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/affinity: "true"')])]),this._v(" "),t("td",[this._v("Enable backend sticky sessions.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/circuit-breaker-expression: <expression>")])]),this._v(" "),t("td",[this._v("Set the circuit breaker expression for the backend.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/responseforwarding-flushinterval: "10ms')])]),this._v(" "),t("td",[this._v("Defines the interval between two flushes when forwarding response from backend to client.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/load-balancer-method: drr")])]),this._v(" "),t("td",[this._v("Override the default "),t("code",[this._v("wrr")]),this._v(" load balancer algorithm.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v('traefik.ingress.kubernetes.io/max-conn-amount: "10"')])]),this._v(" "),t("td",[this._v("Sets the maximum number of simultaneous connections to the backend."),t("br"),this._v("Must be used in conjunction with the label below to take effect.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/max-conn-extractor-func: client.ip")])]),this._v(" "),t("td",[this._v("Set the function to be used against the request to determine what to limit maximum connections to the backend by."),t("br"),this._v("Must be used in conjunction with the above label to take effect.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("traefik.ingress.kubernetes.io/session-cookie-name: <NAME>")])]),this._v(" "),t("td",[this._v("Manually set the cookie name for sticky sessions.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("<1> "),t("code",[this._v("traefik.ingress.kubernetes.io/buffering")]),this._v(" example:")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("maxrequestbodybytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10485760")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("memrequestbodybytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2097153")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("maxresponsebodybytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("10485761")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("memresponsebodybytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2097152")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("retryexpression")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" IsNetworkError() && Attempts() <= 2\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("pre",[t("code",[this._v("`traefik.ingress.kubernetes.io/` and `ingress.kubernetes.io/` are supported prefixes.\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"custom-headers-annotations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#custom-headers-annotations","aria-hidden":"true"}},[this._v("#")]),this._v(" Custom Headers Annotations")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th",[e._v("Annotation")]),e._v(" "),s("th",[e._v("Description")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/custom-request-headers: EXPR")])]),e._v(" "),s("td",[e._v("Provides the container with custom request headers that will be appended to each request forwarded to the container. Format: "),s("code",[e._v("HEADER:value||HEADER2:value2")])])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/custom-response-headers: EXPR")])]),e._v(" "),s("td",[e._v("Appends the headers to each response returned by the container, before forwarding the response to the client. Format: "),s("code",[e._v("HEADER:value||HEADER2:value2")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"security-headers-annotations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#security-headers-annotations","aria-hidden":"true"}},[this._v("#")]),this._v(" Security Headers Annotations")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("table",[s("thead",[s("tr",[s("th",[e._v("Annotation")]),e._v(" "),s("th",[e._v("Description")])])]),e._v(" "),s("tbody",[s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/allowed-hosts: EXPR")])]),e._v(" "),s("td",[e._v("Provides a list of allowed hosts that requests will be processed. Format: "),s("code",[e._v("Host1,Host2")])])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/browser-xss-filter: "true"')])]),e._v(" "),s("td",[e._v("Adds the X-XSS-Protection header with the value "),s("code",[e._v("1; mode=block")]),e._v(".")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/content-security-policy: VALUE")])]),e._v(" "),s("td",[e._v("Adds CSP Header with the custom value.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/content-type-nosniff: "true"')])]),e._v(" "),s("td",[e._v("Adds the "),s("code",[e._v("X-Content-Type-Options")]),e._v(" header with the value "),s("code",[e._v("nosniff")]),e._v(".")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/custom-browser-xss-value: VALUE")])]),e._v(" "),s("td",[e._v("Set custom value for X-XSS-Protection header. This overrides the BrowserXssFilter option.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/custom-frame-options-value: VALUE")])]),e._v(" "),s("td",[e._v("Overrides the "),s("code",[e._v("X-Frame-Options")]),e._v(" header with the custom value.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/force-hsts: "false"')])]),e._v(" "),s("td",[e._v("Adds the STS  header to non-SSL requests.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/frame-deny: "true"')])]),e._v(" "),s("td",[e._v("Adds the "),s("code",[e._v("X-Frame-Options")]),e._v(" header with the value of "),s("code",[e._v("DENY")]),e._v(".")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/hsts-max-age: "315360000"')])]),e._v(" "),s("td",[e._v("Sets the max-age of the HSTS header.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/hsts-include-subdomains: "true"')])]),e._v(" "),s("td",[e._v("Adds the IncludeSubdomains section of the STS  header.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/hsts-preload: "true"')])]),e._v(" "),s("td",[e._v("Adds the preload flag to the HSTS  header.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/is-development: "false"')])]),e._v(" "),s("td",[e._v("This will cause the "),s("code",[e._v("AllowedHosts")]),e._v(", "),s("code",[e._v("SSLRedirect")]),e._v(", and "),s("code",[e._v("STSSeconds")]),e._v("/"),s("code",[e._v("STSIncludeSubdomains")]),e._v(" options to be ignored during development."),s("br"),e._v("When deploying to production, be sure to set this to false.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/proxy-headers: EXPR")])]),e._v(" "),s("td",[e._v("Provides a list of headers that the proxied hostname may be stored. Format:  "),s("code",[e._v("HEADER1,HEADER2")])])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/public-key: VALUE")])]),e._v(" "),s("td",[e._v("Adds HPKP header.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/referrer-policy: VALUE")])]),e._v(" "),s("td",[e._v("Adds referrer policy  header.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/ssl-redirect: "true"')])]),e._v(" "),s("td",[e._v("Forces the frontend to redirect to SSL if a non-SSL request is sent.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/ssl-temporary-redirect: "true"')])]),e._v(" "),s("td",[e._v("Forces the frontend to redirect to SSL if a non-SSL request is sent, but by sending a 302 instead of a 301.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/ssl-host: HOST")])]),e._v(" "),s("td",[e._v('This setting configures the hostname that redirects will be based on. Default is "", which is the same host as the request.')])]),e._v(" "),s("tr",[s("td",[s("code",[e._v('ingress.kubernetes.io/ssl-force-host: "true"')])]),e._v(" "),s("td",[e._v("If "),s("code",[e._v("SSLForceHost")]),e._v(" is "),s("code",[e._v("true")]),e._v(" and "),s("code",[e._v("SSLHost")]),e._v(" is set, requests will be forced to use "),s("code",[e._v("SSLHost")]),e._v(" even the ones that are already using SSL. Default is false.")])]),e._v(" "),s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/ssl-proxy-headers: EXPR")])]),e._v(" "),s("td",[e._v("Header combinations that would signify a proper SSL Request (Such as "),s("code",[e._v("X-Forwarded-For:https")]),e._v("). Format: "),s("code",[e._v("HEADER:value||HEADER2:value2")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"authentication"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#authentication","aria-hidden":"true"}},[this._v("#")]),this._v(" Authentication")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("Annotation")]),e._v(" "),s("th",[e._v("basic")]),e._v(" "),s("th",[e._v("digest")]),e._v(" "),s("th",[e._v("forward")]),e._v(" "),s("th",[e._v("Description")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/auth-type: basic")])]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("Contains the authentication type: "),s("code",[e._v("basic")]),e._v(", "),s("code",[e._v("digest")]),e._v(", "),s("code",[e._v("forward")]),e._v(".")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/auth-secret: mysecret")])]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td"),e._v(" "),s("td",[e._v("Name of Secret containing the username and password with access to the paths defined in the Ingress object.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/auth-remove-header: true")])]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td"),e._v(" "),s("td",[e._v("If set to "),s("code",[e._v("true")]),e._v(" removes the "),s("code",[e._v("Authorization")]),e._v(" header.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/auth-header-field: X-WebAuth-User")])]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td"),e._v(" "),s("td",[e._v("Pass Authenticated user to application via headers.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("code",[this._v("ingress.kubernetes.io/auth-url: https://example.com")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/auth-trust-headers: false")])]),e._v(" "),s("td"),e._v(" "),s("td"),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("Trust "),s("code",[e._v("X-Forwarded-*")]),e._v(" headers.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("ingress.kubernetes.io/auth-response-headers: X-Auth-User, X-Secret")])]),this._v(" "),t("td"),this._v(" "),t("td"),this._v(" "),t("td",[this._v("x")]),this._v(" "),t("td",[this._v("Copy headers from the authentication server to the request.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[t("code",[this._v("ingress.kubernetes.io/auth-tls-secret: secret")])]),this._v(" "),t("td"),this._v(" "),t("td"),this._v(" "),t("td",[this._v("x")]),this._v(" "),t("td",[this._v("Name of Secret containing the certificate and key for the forward auth.")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",[s("code",[e._v("ingress.kubernetes.io/auth-tls-insecure")])]),e._v(" "),s("td"),e._v(" "),s("td"),e._v(" "),s("td",[e._v("x")]),e._v(" "),s("td",[e._v("If set to "),s("code",[e._v("true")]),e._v(" invalid SSL certificates are accepted.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("The realm is not configurable; the only supported (and default) value is "),t("code",[this._v("traefik")]),this._v(".")]),this._v(" "),t("li",[this._v("The Secret must contain a single file only.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"tls-certificates-management"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tls-certificates-management","aria-hidden":"true"}},[this._v("#")]),this._v(" TLS certificates management")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("pre",[t("code",[this._v("Only TLS certificates provided by users can be stored in Kubernetes Secrets.\n[Let's Encrypt](https://letsencrypt.org) certificates cannot be managed in Kubernets Secrets yet.\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"global-default-backend-ingresses"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#global-default-backend-ingresses","aria-hidden":"true"}},[this._v("#")]),this._v(" Global Default Backend Ingresses")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("apiVersion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" extensions/v1beta1\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("kind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" Ingress\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("metadata")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" cheese\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("spec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("backend")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("serviceName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" stilton\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("servicePort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("80")]),e._v("\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("pre",[t("code",[this._v("Due to Traefik's use of priorities, you may have to set this ingress priority lower than other ingresses in your environment, to avoid this global ingress from satisfying requests that _could_ match other ingresses.\nTo do this, use the `traefik.ingress.kubernetes.io/priority` annotation (as seen in [General Annotations](/configuration/backends/kubernetes/#general-annotations)) on your ingresses accordingly.\n")])])])}],!1,null,null,null);t.default=r.exports}}]);