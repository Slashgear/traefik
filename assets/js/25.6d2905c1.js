(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{173:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),e("p",[t._v("For more information about the CLI, see the documentation about "),e("router-link",{attrs:{to:"/basics/#traefik"}},[t._v("Traefik command")]),t._v(".")],1),t._v(" "),t._m(5),t._m(6),t._v(" "),e("p",[t._v("In compose file the entrypoint syntax is different:")]),t._v(" "),t._m(7),e("p",[t._v("or")]),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._m(13),t._v(" "),e("p",[t._v("To redirect an http entrypoint to an https entrypoint (with SNI support).")]),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),e("p",[t._v("To redirect an entrypoint rewriting the URL.")]),t._v(" "),t._m(17),t._m(18),t._v(" "),e("p",[t._v("Care should be taken when defining replacement expand variables: "),e("code",[t._v("$1x")]),t._v(" is equivalent to "),e("code",[t._v("${1x}")]),t._v(", not "),e("code",[t._v("${1}x")]),t._v(" (see "),e("a",{attrs:{href:"https://golang.org/pkg/regexp/#Regexp.Expand",target:"_blank",rel:"noopener noreferrer"}},[t._v("Regexp.Expand"),e("OutboundLink")],1),t._v("), so use "),e("code",[t._v("${1}")]),t._v(" syntax.")]),t._v(" "),e("p",[t._v("Regular expressions and replacements can be tested using online tools such as "),e("a",{attrs:{href:"https://play.golang.org/p/mWU9p-wk2ru",target:"_blank",rel:"noopener noreferrer"}},[t._v("Go Playground"),e("OutboundLink")],1),t._v(" or the "),e("a",{attrs:{href:"https://regex101.com/r/58sIgx/2",target:"_blank",rel:"noopener noreferrer"}},[t._v("Regex101"),e("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),e("p",[t._v("Define an entrypoint with SNI support.")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),e("p",[t._v("Users can be specified directly in the TOML file, or indirectly by referencing an external file;\nif both are provided, the two are merged, with external file contents having precedence.")]),t._v(" "),t._m(33),e("p",[t._v("Optionally, you can:")]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._m(36),t._v(" "),t._m(37),t._m(38),t._v(" "),t._m(39),t._m(40),t._v(" "),t._m(41),t._v(" "),e("p",[t._v("Users can be specified directly in the TOML file, or indirectly by referencing an external file;\nif both are provided, the two are merged, with external file contents having precedence")]),t._v(" "),t._m(42),e("p",[t._v("Optionally, you can!")]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._m(45),t._v(" "),t._m(46),t._m(47),t._v(" "),t._m(48),t._v(" "),e("p",[t._v("If the response code is 2XX, access is granted and the original request is performed.\nOtherwise, the response from the authentication server is returned.")]),t._v(" "),t._m(49),t._m(50),t._v(" "),e("p",[t._v("To specify an https entry point with a minimum TLS version, and specifying an array of cipher suites (from "),e("a",{attrs:{href:"https://godoc.org/crypto/tls#pkg-constants",target:"_blank",rel:"noopener noreferrer"}},[t._v("crypto/tls"),e("OutboundLink")],1),t._v(").")]),t._v(" "),t._m(51),t._m(52),t._v(" "),e("p",[t._v("To enable strict SNI checking, so that connections cannot be made if a matching certificate does not exist.")]),t._v(" "),t._m(53),t._m(54),t._v(" "),e("p",[t._v("To enable a default certificate to serve, so that connections without SNI or without a matching domain will be served this certificate.")]),t._v(" "),t._m(55),t._m(56),t._v(" "),t._m(57),t._v(" "),e("p",[t._v("To enable compression support using gzip format.")]),t._v(" "),t._m(58),e("p",[t._v("Responses are compressed when:")]),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),e("p",[t._v("Traefik supports whitelisting to accept or refuse requests based on the client IP.")]),t._v(" "),t._m(61),t._v(" "),t._m(62),e("p",[t._v("By default, Traefik uses the client IP (see "),e("router-link",{attrs:{to:"/configuration/entrypoints/#clientipstrategy"}},[t._v("ClientIPStrategy")]),t._v(") for the whitelisting.")],1),t._v(" "),t._m(63),t._v(" "),t._m(64),t._m(65),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),e("p",[t._v("There are several option available:")]),t._v(" "),t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._m(71),t._m(72),t._v(" "),e("p",[t._v("Examples:")]),t._v(" "),t._m(73),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),t._m(76),t._m(77),t._v(" "),e("p",[t._v("Examples:")]),t._v(" "),t._m(78),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),t._m(81),t._v(" "),e("p",[t._v("To enable "),e("a",{attrs:{href:"https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt",target:"_blank",rel:"noopener noreferrer"}},[t._v("ProxyProtocol"),e("OutboundLink")],1),t._v(" support.\nOnly IPs in "),e("code",[t._v("trustedIPs")]),t._v(" will lead to remote client address replacement: you should declare your load-balancer IP or CIDR range here (in testing environment, you can trust everyone using "),e("code",[t._v("insecure = true")]),t._v(").")]),t._v(" "),e("p",[t._v("!!! danger\nWhen queuing Traefik behind another load-balancer, be sure to carefully configure Proxy Protocol on both sides.\nOtherwise, it could introduce a security risk in your system by forging requests.")]),t._v(" "),t._m(82),t._m(83),t._v(" "),t._m(84),t._v(" "),t._m(85)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"entry-points-definition"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#entry-points-definition","aria-hidden":"true"}},[this._v("#")]),this._v(" Entry Points Definition")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"reference"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reference","aria-hidden":"true"}},[this._v("#")]),this._v(" Reference")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"toml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#toml","aria-hidden":"true"}},[this._v("#")]),this._v(" TOML")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("defaultEntryPoints")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["http", "https"]')]),t._v("\n\n# ...\n# ...\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.compress]")]),t._v("\n    \n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.clientIPStrategy]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      depth")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" 5")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      excludedIPs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["127.0.0.1/32", "192.168.1.7"]')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.whitelist]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      sourceRange")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["10.42.0.0/16", "152.89.1.33/32", "afed:be44::/16"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [entryPoints.http.whitelist.IPStrategy]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        depth")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" 5")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        excludedIPs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["127.0.0.1/32", "192.168.1.7"]')]),t._v("\n          \n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      minVersion")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "VersionTLS12"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      cipherSuites")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" [")]),t._v('\n        "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256",\n        "TLS_RSA_WITH_AES_256_GCM_SHA384"\n       ]\n'),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.http.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/my.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/my.key"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.http.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/other.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/other.key"')]),t._v("\n      # ...\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [entryPoints.http.tls.clientCA]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        files")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["path/to/ca1.crt", "path/to/ca2.crt"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        optional")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" false")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.redirect]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      entryPoint")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "https"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      regex")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "^http://localhost/(.*)"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      replacement")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "http://mydomain/$1"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      permanent")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.auth]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      headerField")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "X-WebAuth-User"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [entryPoints.http.auth.basic]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        removeHeader")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        realm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "Your realm"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" [")]),t._v('\n          "test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/",\n          "test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0",\n        ]\n'),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        usersFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "/path/to/.htpasswd"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [entryPoints.http.auth.digest]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        removeHeader")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" [")]),t._v('\n          "test:traefik:a2688e031edb4be6a3797f3882655c05",\n          "test2:traefik:518845800f9e2bfb1f1f740ec24f074e",\n        ]\n'),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        usersFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "/path/to/.htdigest"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [entryPoints.http.auth.forward]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "https://authserver.com/auth"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        trustForwardHeader")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("        authResponseHeaders")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["X-Auth-User"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("        [entryPoints.http.auth.forward.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("          ca")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/local.crt"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("          caOptional")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("          cert")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/foo.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("          key")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/foo.key"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("          insecureSkipVerify")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.proxyProtocol]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      insecure")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      trustedIPs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["10.10.10.1", "10.10.10.2"]')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.forwardedHeaders]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      trustedIPs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["10.10.10.1", "10.10.10.2"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      insecure")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" false")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https]")]),t._v("\n    # ...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cli","aria-hidden":"true"}},[this._v("#")]),this._v(" CLI")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[this._v("--entryPoints"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'Name:http Address::80'")]),this._v("\n--entryPoints"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'Name:https Address::443 TLS'")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("pre",[s("code",[this._v("Whitespace is used as option separator and `,` is used as value separator for the list.  \nThe names of the options are case-insensitive.\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("traefik")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" traefik\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("defaultentrypoints=powpow\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"--entryPoints=Name:powpow Address::42 Compress:true"')]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("traefik")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" traefik\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("defaultentrypoints=powpow "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("entryPoints='Name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("powpow Address"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("42 Compress"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("true'\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"all-available-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#all-available-options","aria-hidden":"true"}},[this._v("#")]),this._v(" All available options:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[this._v("Name:foo\nAddress::80\nTLS:/my/path/foo.cert,/my/path/foo.key;/my/path/goo.cert,/my/path/goo.key;/my/path/hoo.cert,/my/path/hoo.key\nTLS\nTLS.MinVersion:VersionTLS11\nTLS.CipherSuites:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA384\nTLS.SniStrict:true\nTLS.DefaultCertificate.Cert:path/to/foo.cert\nTLS.DefaultCertificate.Key:path/to/foo.key\nCA:car\nCA.Optional:true\nRedirect.EntryPoint:https\nRedirect.Regex:http://localhost/(.*)\nRedirect.Replacement:http://mydomain/$1\nRedirect.Permanent:true\nCompress:true\nWhiteList.SourceRange:10.42.0.0/16,152.89.1.33/32,afed:be44::/16\nWhiteList.IPStrategy.depth:3\nWhiteList.IPStrategy.ExcludedIPs:10.0.0.3/24,20.0.0.3/24\nProxyProtocol.TrustedIPs:192.168.0.1\nProxyProtocol.Insecure:true\nForwardedHeaders.TrustedIPs:10.0.0.3/24,20.0.0.3/24\nAuth.Basic.Users:test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/,test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0\nAuth.Basic.Removeheader:true\nAuth.Basic.Realm:traefik\nAuth.Digest.Users:test:traefik:a2688e031edb4be6a3797f3882655c05,test2:traefik:518845800f9e2bfb1f1f740ec24f074e\nAuth.Digest.Removeheader:true\nAuth.HeaderField:X-WebAuth-User\nAuth.Forward.Address:https://authserver.com/auth\nAuth.Forward.AuthResponseHeaders:X-Auth,X-Test,X-Secret\nAuth.Forward.TrustForwardHeader:true\nAuth.Forward.TLS.CA:path/to/local.crt\nAuth.Forward.TLS.CAOptional:true\nAuth.Forward.TLS.Cert:path/to/foo.cert\nAuth.Forward.TLS.Key:path/to/foo.key\nAuth.Forward.TLS.InsecureSkipVerify:true\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"basic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basic","aria-hidden":"true"}},[this._v("#")]),this._v(" Basic")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[t._v("# Entrypoints definition\n#\n# Default:\n# [entryPoints]\n#   [entryPoints.http]\n#   address "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n#\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"redirect-http-to-https"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redirect-http-to-https","aria-hidden":"true"}},[this._v("#")]),this._v(" Redirect HTTP to HTTPS")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.redirect]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    entryPoint")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "https"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":443"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.https.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.key"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.org.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.org.key"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("pre",[s("code",[this._v("Please note that `regex` and `replacement` do not have to be set in the `redirect` structure if an entrypoint is defined for the redirection (they will not be used in this case).\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"rewriting-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rewriting-url","aria-hidden":"true"}},[this._v("#")]),this._v(" Rewriting URL")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.redirect]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    regex")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "^http://localhost/(.*)"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    replacement")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "http://mydomain/$1"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("pre",[s("code",[this._v("Please note that `regex` and `replacement` do not have to be set in the `redirect` structure if an `entrypoint` is defined for the redirection (they will not be used in this case).\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"tls"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tls","aria-hidden":"true"}},[this._v("#")]),this._v(" TLS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"static-certificates"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#static-certificates","aria-hidden":"true"}},[this._v("#")]),this._v(" Static Certificates")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":443"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.https.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.key"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("pre",[s("code",[this._v("If an empty TLS configuration is provided, default self-signed certificates are generated.\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"dynamic-certificates"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dynamic-certificates","aria-hidden":"true"}},[this._v("#")]),this._v(" Dynamic Certificates")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If you need to add or remove TLS certificates while Traefik is started, Dynamic TLS certificates are supported using the "),s("a",{attrs:{href:"/configuration/backends/file"}},[this._v("file provider")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"tls-mutual-authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tls-mutual-authentication","aria-hidden":"true"}},[this._v("#")]),this._v(" TLS Mutual Authentication")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("TLS Mutual Authentication can be "),e("code",[t._v("optional")]),t._v(" or not.\nIf it's "),e("code",[t._v("optional")]),t._v(", Traefik will authorize connection with certificates not signed by a specified Certificate Authority (CA).\nOtherwise, Traefik will only accept clients that present a certificate signed by a specified Certificate Authority (CA).\n"),e("code",[t._v("ClientCA.files")]),t._v(" can be configured with multiple "),e("code",[t._v("CA:s")]),t._v(" in the same file or use multiple files containing one or several "),e("code",[t._v("CA:s")]),t._v(".\nThe "),e("code",[t._v("CA:s")]),t._v(" has to be in PEM format.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("By default, "),s("code",[this._v("ClientCA.files")]),this._v(" is not optional, all clients will be required to present a valid cert.\nThe requirement will apply to all server certs in the entrypoint.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("In the example below both "),s("code",[this._v("snitest.com")]),this._v(" and "),s("code",[this._v("snitest.org")]),this._v(" will require client certs")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":443"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.https.tls.ClientCA]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    files")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["tests/clientca1.crt", "tests/clientca2.crt"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    optional")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" false")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.key"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.org.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.org.key"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authentication","aria-hidden":"true"}},[this._v("#")]),this._v(" Authentication")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"basic-authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basic-authentication","aria-hidden":"true"}},[this._v("#")]),this._v(" Basic Authentication")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Passwords can be encoded in MD5, SHA1 and BCrypt: you can use "),s("code",[this._v("htpasswd")]),this._v(" to generate them.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[t._v("# To enable basic auth on an entrypoint with 2 user/pass: test:test and test2:test2\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.auth.basic]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/", "test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  usersFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "/path/to/.htpasswd"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("customize the realm")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.auth]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.auth.basic]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    realm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "Your realm"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/", "test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("pass authenticated user to application via headers")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.auth]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    headerField")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "X-WebAuth-User" # <-- header for the authenticated user')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.auth.basic]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/", "test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("remove the Authorization header")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.auth]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.auth.basic]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    removeHeader")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true # <-- remove the Authorization header")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["test:$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/", "test2:$apr1$d9hr9HBB$4HxwgUir3HP4EsggP/QNo0"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"digest-authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#digest-authentication","aria-hidden":"true"}},[this._v("#")]),this._v(" Digest Authentication")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("You can use "),s("code",[this._v("htdigest")]),this._v(" to generate them.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[t._v("# To enable digest auth on an entrypoint with 2 user/realm/pass: test:traefik:test and test2:traefik:test2\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.auth.digest]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["test:traefik:a2688e031edb4be6a3797f3882655c05", "test2:traefik:518845800f9e2bfb1f1f740ec24f074e"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  usersFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "/path/to/.htdigest"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("pass authenticated user to application via headers.")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.auth]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    headerField")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "X-WebAuth-User" # <-- header for the authenticated user')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.auth.digest]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["test:traefik:a2688e031edb4be6a3797f3882655c05", "test2:traefik:518845800f9e2bfb1f1f740ec24f074e"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("remove the Authorization header.")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.auth]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.auth.digest]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    removeHeader")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true # <-- remove the Authorization header")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    users")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["test:traefik:a2688e031edb4be6a3797f3882655c05", "test2:traefik:518845800f9e2bfb1f1f740ec24f074e"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"forward-authentication"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#forward-authentication","aria-hidden":"true"}},[this._v("#")]),this._v(" Forward Authentication")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This configuration will first forward the request to "),s("code",[this._v("http://authserver.com/auth")]),this._v(".")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n    # ...\n    # To enable forward auth on an entrypoint\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.auth.forward]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "https://authserver.com/auth"')]),t._v("\n\n    # Trust existing X-Forwarded-* headers.\n    # Useful with another reverse proxy in front of Traefik.\n    #\n    # Optional\n    # Default: false\n    #\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    trustForwardHeader")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n\n    # Copy headers from the authentication server to the request.\n    #\n    # Optional\n    #\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    authResponseHeaders")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["X-Auth-User", "X-Secret"]')]),t._v("\n\n      # Enable forward auth TLS connection.\n      #\n      # Optional\n      #\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [entryPoints.http.auth.forward.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      ca")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/local.crt"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      caOptional")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      cert")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/foo.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      key")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "path/to/foo.key"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"specify-minimum-tls-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#specify-minimum-tls-version","aria-hidden":"true"}},[this._v("#")]),this._v(" Specify Minimum TLS Version")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":443"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.https.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    minVersion")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "VersionTLS12"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    cipherSuites")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" [")]),t._v('\n      "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256",\n      "TLS_RSA_WITH_AES_256_GCM_SHA384"\n    ]\n'),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.key"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.org.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.org.key"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"strict-sni-checking"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strict-sni-checking","aria-hidden":"true"}},[this._v("#")]),this._v(" Strict SNI Checking")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":443"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.https.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    sniStrict")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [[entryPoints.https.tls.certificates]")]),t._v("]\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.key"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"default-certificate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#default-certificate","aria-hidden":"true"}},[this._v("#")]),this._v(" Default Certificate")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.https]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":443"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.https.tls]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.https.tls.defaultCertificate]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      certFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.cert"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      keyFile")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' "integration/fixtures/https/snitest.com.key"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("pre",[s("code",[this._v("There can only be one `defaultCertificate` set per entrypoint.\nUse a single set of square brackets `[ ]`, instead of the two needed for normal certificates.\nIf no default certificate is provided, a self-signed certificate will be generated by Traefik, and used instead.\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"compression"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#compression","aria-hidden":"true"}},[this._v("#")]),this._v(" Compression")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("  address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.compress]")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("The response body is larger than "),e("code",[t._v("512")]),t._v(" bytes")]),t._v(" "),e("li",[t._v("And the "),e("code",[t._v("Accept-Encoding")]),t._v(" request header contains "),e("code",[t._v("gzip")])]),t._v(" "),e("li",[t._v("And the response is not already compressed, i.e. the "),e("code",[t._v("Content-Encoding")]),t._v(" response header is not already set.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"white-listing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#white-listing","aria-hidden":"true"}},[this._v("#")]),this._v(" White Listing")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The following example enables IP white listing and accepts requests from client IPs defined in "),s("code",[this._v("sourceRange")]),this._v(".")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.whiteList]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      sourceRange")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["127.0.0.1/32", "192.168.1.7"]')]),t._v("\n      # [entryPoints.http.whiteList.IPStrategy]\n      # Override the clientIPStrategy\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If you want to use another IP than the one determined by "),s("code",[this._v("ClientIPStrategy")]),this._v(" for the whitelisting, you can define the "),s("code",[this._v("IPStrategy")]),this._v(" option:")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http.clientIPStrategy]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    depth")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" 4")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.whiteList]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      sourceRange")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["127.0.0.1/32", "192.168.1.7"]')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("      [entryPoints.http.whiteList.IPStrategy]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      depth")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" 2")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v("In the above example, if the value of the "),e("code",[t._v("X-Forwarded-For")]),t._v(" header was "),e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')]),t._v(" then the client IP would be "),e("code",[t._v('"10.0.0.1"')]),t._v(" ("),e("code",[t._v("clientIPStrategy.depth=4")]),t._v(") but the IP used for the whitelisting would be "),e("code",[t._v('"12.0.0.1"')]),t._v(" ("),e("code",[t._v("whitelist.IPStrategy.depth=2")]),t._v(").")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"clientipstrategy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clientipstrategy","aria-hidden":"true"}},[this._v("#")]),this._v(" ClientIPStrategy")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("The "),s("code",[this._v("clientIPStrategy")]),this._v(" defines how you want Traefik to determine the client IP (used for whitelisting for example).")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"depth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#depth","aria-hidden":"true"}},[this._v("#")]),this._v(" Depth")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("This option uses the "),s("code",[this._v("X-Forwarded-For")]),this._v(" header and takes the IP located at the "),s("code",[this._v("depth")]),this._v(" position (starting from the right).")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.clientIPStrategy]")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.clientIPStrategy]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      depth")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" 5")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("pre",[s("code",[this._v("- If `depth` is greater than the total number of IPs in `X-Forwarded-For`, then clientIP will be empty.\n- If `depth` is lesser than or equal to 0, then the option is ignored.\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[e("code",[t._v("X-Forwarded-For")])]),t._v(" "),e("th",[e("code",[t._v("depth")])]),t._v(" "),e("th",[t._v("clientIP")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v("1")])]),t._v(" "),e("td",[e("code",[t._v('"13.0.0.1"')])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v("3")])]),t._v(" "),e("td",[e("code",[t._v('"11.0.0.1"')])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v("5")])]),t._v(" "),e("td",[e("code",[t._v('""')])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"excluded-ips"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#excluded-ips","aria-hidden":"true"}},[this._v("#")]),this._v(" Excluded IPs")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Traefik will scan the "),s("code",[this._v("X-Forwarded-For")]),this._v(" header (from the right) and pick the first IP not in the "),s("code",[this._v("excludedIPs")]),this._v(" list.")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.clientIPStrategy]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      excludedIPs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["127.0.0.1/32", "192.168.1.7"]')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("pre",[s("code",[this._v("If `depth` is specified, `excludedIPs` is ignored.\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[e("code",[t._v("X-Forwarded-For")])]),t._v(" "),e("th",[e("code",[t._v("excludedIPs")])]),t._v(" "),e("th",[t._v("clientIP")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"11.0.0.1"')])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"15.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"12.0.0.1"')])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"10.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"12.0.0.1"')])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1,12.0.0.1,13.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"15.0.0.1,16.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"13.0.0.1"')])])]),t._v(" "),e("tr",[e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('"10.0.0.1,11.0.0.1"')])]),t._v(" "),e("td",[e("code",[t._v('""')])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"default"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#default","aria-hidden":"true"}},[this._v("#")]),this._v(" Default")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("If there are no "),s("code",[this._v("depth")]),this._v(" or "),s("code",[this._v("excludedIPs")]),this._v(", then the client IP is the IP of the computer that initiated the connection with the Traefik server (the remote address).")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"proxyprotocol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#proxyprotocol","aria-hidden":"true"}},[this._v("#")]),this._v(" ProxyProtocol")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n\n    # Enable ProxyProtocol\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.proxyProtocol]")]),t._v("\n      # List of trusted IPs\n      #\n      # Required\n      # Default: []\n      #\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      trustedIPs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["127.0.0.1/32", "192.168.1.7"]')]),t._v("\n\n      # Insecure mode FOR TESTING ENVIRONNEMENT ONLY\n      #\n      # Optional\n      # Default: false\n      #\n      # insecure "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"forwarded-header"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#forwarded-header","aria-hidden":"true"}},[this._v("#")]),this._v(" Forwarded Header")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Only IPs in "),s("code",[this._v("trustedIPs")]),this._v(" will be authorized to trust the client forwarded headers ("),s("code",[this._v("X-Forwarded-*")]),this._v(").")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("[entryPoints]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("  [entryPoints.http]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("    address")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ":80"')]),t._v("\n\n    # Enable Forwarded Headers\n"),e("span",{pre:!0,attrs:{class:"token selector"}},[t._v("    [entryPoints.http.forwardedHeaders]")]),t._v("\n      # List of trusted IPs\n      #\n      # Required\n      # Default: []\n      #\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("      trustedIPs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(' ["127.0.0.1/32", "192.168.1.7"]')]),t._v("\n      \n      # Insecure mode\n      #\n      # Optional\n      # Default: false\n      #\n      # insecure "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" true")]),t._v("\n\n")])])])}],!1,null,null,null);s.default=n.exports}}]);