(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{167:function(e,t,r){"use strict";r.r(t);var a=r(0),i=Object(a.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),r("p",[e._v("This guide explains how to use Traefik in high availability mode.")]),e._v(" "),r("p",[e._v("In order to deploy and configure multiple Traefik instances, without copying the same configuration file on each instance, we will use a distributed Key-Value store.")]),e._v(" "),e._m(1),e._v(" "),r("p",[e._v("You will need a working KV store cluster.\n"),r("em",[e._v("(Currently, we recommend "),r("a",{attrs:{href:"https://consul.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Consul"),r("OutboundLink")],1),e._v(" .)")])]),e._v(" "),e._m(2),e._v(" "),r("p",[e._v("We created a special Traefik command to help configuring your Key Value store from a Traefik TOML configuration file.")]),e._v(" "),r("p",[e._v("Please refer to "),r("router-link",{attrs:{to:"/user-guide/kv-config/#store-configuration-in-key-value-store"}},[e._v("this section")]),e._v(" to get more details.")],1),e._v(" "),e._m(3),e._v(" "),r("p",[e._v("Once your Traefik configuration is uploaded on your KV store, you can start each Traefik instance.")]),e._v(" "),r("p",[e._v("A Traefik cluster is based on a manager/worker model.")]),e._v(" "),r("p",[e._v("When starting, Traefik will elect a manager.\nIf this instance fails, another manager will be automatically elected.")]),e._v(" "),e._m(4),e._v(" "),r("p",[r("strong",[e._v("In cluster mode, ACME certificates have to be stored in "),r("router-link",{attrs:{to:"/configuration/acme/#as-a-key-value-store-entry"}},[e._v("a KV Store entry")]),e._v(".")],1)]),e._v(" "),r("p",[e._v("Thanks to the Traefik cluster mode algorithm (based on "),r("a",{attrs:{href:"https://raft.github.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("the Raft Consensus Algorithm"),r("OutboundLink")],1),e._v("), only one instance will contact Let's encrypt to solve the challenges.")]),e._v(" "),r("p",[e._v("The others instances will get ACME certificate from the KV Store entry.")])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"clustering-high-availability-beta"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clustering-high-availability-beta","aria-hidden":"true"}},[this._v("#")]),this._v(" Clustering / High Availability (beta)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"prerequisites"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prerequisites","aria-hidden":"true"}},[this._v("#")]),this._v(" Prerequisites")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"file-configuration-to-kv-store-migration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file-configuration-to-kv-store-migration","aria-hidden":"true"}},[this._v("#")]),this._v(" File configuration to KV store migration")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"deploy-a-traefik-cluster"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deploy-a-traefik-cluster","aria-hidden":"true"}},[this._v("#")]),this._v(" Deploy a Traefik cluster")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"traefik-cluster-and-let-s-encrypt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#traefik-cluster-and-let-s-encrypt","aria-hidden":"true"}},[this._v("#")]),this._v(" Traefik cluster and Let's Encrypt")])}],!1,null,null,null);t.default=i.exports}}]);